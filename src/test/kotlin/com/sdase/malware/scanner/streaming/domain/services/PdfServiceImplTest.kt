package com.sdase.malware.scanner.streaming.domain.services

import com.itextpdf.text.pdf.PdfReader
import com.itextpdf.text.pdf.parser.PdfTextExtractor
import com.sdase.malware.scanner.streaming.domain.model.IBAN
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import java.nio.file.Files
import java.nio.file.Paths

class PdfServiceImplTest {

    private val pdfService = PdfServiceImpl()
    @Test
    fun `it should find iban from PDF`() {
        val iban = pdfService.findIBAN(Files.readAllBytes(Paths.get("src/test/resources/Testdaten_Rechnungseinreichung.pdf")))

        assertThat(iban).isEqualTo(IBAN("DE15 3006 0601 0505 7807 80"))
    }
}