package com.sdase.malware.scanner.streaming.domain.services

import com.fasterxml.jackson.databind.ObjectMapper
import io.mockk.mockk
import org.junit.jupiter.api.Test
import org.slf4j.Logger
import org.springframework.kafka.core.KafkaTemplate

class ListenerServiceImplTest{
    private val objectMapper = mockk<ObjectMapper>(relaxed = true)
    private val scannerService = mockk<ScannerService>(relaxed = true)
    private val logger = mockk<Logger>(relaxed = true)
    private val kafkaTemplate = mockk<KafkaTemplate<String, String>>(relaxed = true)
    private val listenerService = ListenerServiceImpl(scannerService, kafkaTemplate,objectMapper, logger)
    @Test
    fun `it should listen to events`() {
        listenerService.listen(Mothers.defaultCheckEvent().toString())
    }
}