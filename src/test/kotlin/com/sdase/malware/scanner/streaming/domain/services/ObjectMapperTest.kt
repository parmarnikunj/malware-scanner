package com.sdase.malware.scanner.streaming.domain.services

import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper
import com.sdase.malware.scanner.streaming.domain.model.CheckEvent
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

class ObjectMapperTest {
    private val objectMapper = jacksonObjectMapper()
    @Test
    fun `it should deserialize the string to Event`() {
        val eventStr = """{"url":"http://localhost:8080/documents/123456","fileType":"pdf"}"""

        val checkEvent =  objectMapper.readValue(eventStr, CheckEvent::class.java)

        assertThat(checkEvent).isNotNull
    }
}